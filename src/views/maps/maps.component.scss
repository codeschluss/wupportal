@import '../../app.vars.scss';

:host {
  -webkit-tap-highlight-color: transparent;

  & > main {
    @include position(absolute, 0, 0, 0, 0);
    background-color: $color-lighter;
    max-width: 100% !important;

    user-select: none;

    & > aol-map {
      background-color: $color-light;
      display: block;
      height: 100%;
      width: 100%;

      & > nav {
        @include flex(column, flex-start, center);
        @include position(absolute, 0, auto, 0, 0);
        direction: rtl;
        overflow: auto;

        @include media(lt-md) {
          @include flex(row, flex-start, center);
          bottom: auto;
          direction: ltr;
          overflow-x: auto;
          overflow-y: hidden;
          right: 0;

          @include media(xs) {
            scroll-snap-type: x mandatory;
          }
        }

        & > activity-card {
          @include flex(row, center, center);
          @include position(relative);
          direction: ltr;
          scroll-snap-align: start;

          @include media(gt-sm) {
            & + activity-card {
              padding-top: 0;
            }
          }

          @include media(sm) {
            & + activity-card {
              padding-left: 0;
            }
          }

          @include media(xs) {
            width: 100%;

            & + activity-card::before {
              @include position(absolute, auto, auto, auto, -.75rem);
              background-color: $color-primary;
              border-radius: 50%;
              box-sizing: border-box;
              content: '';
              height: 1.5rem;
              width: 1.5rem;
            }
          }
        }
      }
    }

    & > fa-icon[matRipple] {
      @include flex(row, center, center);
      @include position(absolute, calc(50% - 2.5rem), calc(50% - 2.5rem));
      border-radius: 50%;
      color: $color-primary;
      font-size: 1rem;
      height: 5rem;
      opacity: 0;
      pointer-events: none;
      transition: opacity $animation-duration;
      width: 5rem;

      @include deep {
        .mat-ripple-element {
          opacity: .24;
        }
      }

      &.show {
        opacity: .87;

        &.arrow {
          &::after {
            @include position(absolute);
            background-image:
              linear-gradient(45deg, $color-primary 0%, transparent 50%);
            border-bottom-right-radius: 50%;
            border-top-left-radius: 50%;
            content: '';
            display: block;
            height: 3rem;
            transform: rotate(45deg);
            width: 3rem;
          }
        }
      }
    }

    & > nav {
      @include flex(column-reverse);
      @include position(absolute, auto, 1rem, 1rem);
      transform: scale(0);
      transition: transform $animation-duration;

      &.open {
        & > .mat-fab {
          &:first-child {
            fa-icon {
              transform: rotate(135deg);
            }
          }

          & + .mat-fab {
            margin: 0 0 .5rem 0;
            opacity: 1;
            pointer-events: auto;
          }
        }
      }

      & > .mat-fab {
        transition: all $animation-duration;

        &:first-child {
          z-index: 1;
        }

        &[disabled=true] {
          [component=i18n] {
            opacity: .24;
          }
        }

        & + .mat-fab {
          margin: 0 0 -3.5rem 0;
          opacity: 0;
          pointer-events: none;
        }

        [component=i18n] {
          @include position(absolute, auto, 5rem);
          background-color: $color-darkest;
          border-radius: .25rem;
          color: $color-lightest;
          padding: 0 .25rem;
          pointer-events: none;
        }

        fa-icon {
          display: block;
          font-size: 1.25rem;
          transition: all $animation-duration;
        }
      }
    }
  }
}
